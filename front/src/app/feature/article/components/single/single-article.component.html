<app-layout [withBackLink]="true" link="/articles">
  <div class="article" *ngIf="loaded else loading">
    <h1>{{article.title}}</h1>
    <div class="article__info">
      <p>{{article.updated_at | date: 'dd/MM/yy'}}</p>
      <p>{{article.author}}</p>
      <p>{{ theme }}</p>
    </div>
    <p class="article__content">{{article.content}}</p>
    <hr />
    <h2>Commentaires</h2>
    <div class="comment">
      <div *ngIf="comments.length === 0" class="comment-container">
        <p>Aucun commentaire, soyez le premier Ã  interagir !</p>
      </div>
      <div *ngFor="let comment of comments" class="comment-container">
        <p class="comment__author">{{comment.author}}</p>
        <p class="comment__content">{{comment.content}}</p>
      </div>
      <form class="comment__form" [formGroup]="commentForm" (ngSubmit)="submitComment()">
        <mat-form-field appearance="outline">
          <textarea matNativeControl formControlName="content" class="comment__input"
            placeholder="Ecrivez ici votre commentaire"></textarea>
        </mat-form-field>
        <button type="submit" class="submit">
          <svg class="icon" width="49" height="49" viewBox="0 0 49 49" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M45.9999 3L22.3499 26.65" stroke="#7763C5" stroke-width="5" stroke-linecap="round"
              stroke-linejoin="round" />
            <path d="M46 3L30.95 46L22.35 26.65L3 18.05L46 3Z" stroke="#7763C5" stroke-width="5" stroke-linecap="round"
              stroke-linejoin="round" />
          </svg>
        </button>
      </form>
    </div>
  </div>
  <ng-template #loading>
    <p>Chargement en cours...</p>
  </ng-template>
</app-layout>